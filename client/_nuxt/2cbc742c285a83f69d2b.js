(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{182:function(t,e,r){"use strict";var n=r(3),o=r(16),c=r(22),l=r(109),h=r(56),m=r(10),d=r(41).f,v=r(57).f,f=r(9).f,w=r(183).trim,x=n.Number,y=x,_=x.prototype,O="Number"==c(r(73)(_)),C="trim"in String.prototype,k=function(t){var e=h(t,!1);if("string"==typeof e&&e.length>2){var r,n,o,c=(e=C?e.trim():w(e,3)).charCodeAt(0);if(43===c||45===c){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===c){switch(e.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+e}for(var code,l=e.slice(2),i=0,m=l.length;i<m;i++)if((code=l.charCodeAt(i))<48||code>o)return NaN;return parseInt(l,n)}}return+e};if(!x(" 0o1")||!x("0b1")||x("+0x1")){x=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof x&&(O?m((function(){_.valueOf.call(r)})):"Number"!=c(r))?l(new y(k(e)),r,x):k(e)};for(var N,E=r(8)?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;E.length>I;I++)o(y,N=E[I])&&!o(x,N)&&f(x,N,v(y,N));x.prototype=_,_.constructor=x,r(11)(n,"Number",x)}},183:function(t,e,r){var n=r(7),o=r(21),c=r(10),l=r(184),h="["+l+"]",m=RegExp("^"+h+h+"*"),d=RegExp(h+h+"*$"),v=function(t,e,r){var o={},h=c((function(){return!!l[t]()||"​"!="​"[t]()})),m=o[t]=h?e(f):l[t];r&&(o[r]=m),n(n.P+n.F*h,"String",o)},f=v.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(m,"")),2&e&&(t=t.replace(d,"")),t};t.exports=v},184:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},185:function(t,e,r){var content=r(190);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(20).default)("3ce25ce4",content,!0,{sourceMap:!1})},188:function(t,e,r){"use strict";r(182),r(30);var n=r(5);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),t}r(74),r(31),r(23),r(13),r(58);var h=r(51),m=r(39),d=r.n(m);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(source,!0).forEach((function(e){Object(h.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var w=function(){function t(e,r){o(this,t),this.http=d.a.create({baseURL:"https://gigs.chinaza.dev".concat(e),headers:r})}var e;return l(t,[{key:"makeRequest",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(e){var r,n,o,data,c,l,m,d,v,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.url,n=void 0===r?"":r,o=e.data,data=void 0===o?{}:o,c=e.method,l=void 0===c?"get":c,m=e.headers,d=void 0===m?{}:m,t.prev=1,v=Object(h.a)({},"get"===l?"params":"data",data),t.next=5,this.http.request(f({url:n,method:l,headers:d},v));case 5:return w=t.sent,t.abrupt("return",{response:w.data,status:w.status});case 9:if(t.prev=9,t.t0=t.catch(1),!t.t0.response){t.next=15;break}throw new Error(t.t0.response.data?t.t0.response.data.message:t.t0.response.data);case 15:throw new Error(t.t0.message||"A network/ timeout error has occured.");case 16:case"end":return t.stop()}}),t,this,[[1,9]])}))),function(t){return e.apply(this,arguments)})}]),t}();r.d(e,"a",(function(){return x}));var x=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o(this,t),this.pos=e||{},this.http=new w("/api/gigs-twitter")}var e,r;return l(t,[{key:"loadData",value:(r=Object(n.a)(regeneratorRuntime.mark((function t(){var q,e,r,n,o,c,l,h=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return q=h.length>0&&void 0!==h[0]?h[0]:"",t.prev=1,e=this.pos,r=e.latitude,n=e.longitude,o=!!r&&{latitude:Number(r),longitude:Number(n)},t.next=6,this.http.makeRequest({url:"/gigs",method:"post",data:{q:q,pos:o}});case 6:return c=t.sent,l=c.response,t.abrupt("return",l.data.tweets);case 11:throw t.prev=11,t.t0=t.catch(1),t.t0;case 14:case"end":return t.stop()}}),t,this,[[1,11]])}))),function(){return r.apply(this,arguments)})},{key:"logTweet",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.http.makeRequest({url:"/log/gigclick",method:"post",data:{twId:e}});case 3:return r=t.sent,n=r.response,t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,this,[[0,8]])}))),function(t){return e.apply(this,arguments)})}]),t}()},189:function(t,e,r){"use strict";var n=r(185);r.n(n).a},190:function(t,e,r){(t.exports=r(19)(!1)).push([t.i,".box[data-v-8cca0c9a]{width:85%!important;margin:0 auto;max-width:400px!important}.close[data-v-8cca0c9a]{color:#000;font-size:30px;float:right;margin-top:-10px;background:none;border:none;box-shadow:none}",""])},197:function(t,e,r){"use strict";r.r(e);r(30);var n,o,c,l=r(5),h=r(188),m=(r(13),function(){return new Promise((function(t){navigator.geolocation||t(!1),navigator.geolocation.getCurrentPosition((function(e){return t({latitude:e.coords.latitude,longitude:e.coords.longitude})}),(function(){return t(!1)}))}))}),d={name:"Alert",computed:{alert:function(){return this.$store.state.alert}},methods:{close:function(){this.$store.dispatch("toggleAlert")}}},v=(r(189),r(24)),f={components:{Alert:Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:"modal "+(t.alert.isOpen?"is-active":"")},[r("div",{staticClass:"modal-background"}),t._v(" "),r("div",{staticClass:"modal-content"},[r("div",{staticClass:"box"},[r("button",{staticClass:"close",attrs:{"aria-label":"close"},on:{click:function(e){return t.close()}}},[t._v("\n        ×\n      ")]),t._v(" "),r("article",{staticClass:"media"},[r("div",{staticClass:"media-content"},[r("div",{staticClass:"content"},[r("h5",[t._v("NOTIFICATION")]),t._v(" "),r("p",[t._v(t._s(t.alert.message))])])])])])])])}),[],!1,null,"8cca0c9a",null).exports},data:function(){return{q:"",pos:null,twitter:new h.a}},computed:{isLoading:function(){return this.$store.state.isLoading}},asyncData:(c=Object(l.a)(regeneratorRuntime.mark((function t(e){var r,n,q,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.route,n=e.store,t.prev=1,q=r.params.q||"",o=new h.a,t.next=6,o.loadData(q);case 6:return c=t.sent,n.commit("twitterQ",q),n.commit("tweets",c),t.abrupt("return",c);case 12:t.prev=12,t.t0=t.catch(1),n.dispatch("toggleAlert",{isOpen:!0,message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[1,12]])}))),function(t){return c.apply(this,arguments)}),mounted:(o=Object(l.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.$store.commit("isLoading",!0),this.q=this.$route.query.q||"",t.next=5,m();case 5:return this.pos=t.sent,e=new h.a(this.pos),t.next=9,e.loadData(this.q);case 9:this.tweets=t.sent,this.$store.commit("twitterQ",this.q),this.$store.commit("setPos",this.pos),this.$store.commit("tweets",this.tweets),this.$store.commit("isLoading",!1),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),this.$store.commit("isLoading",!1),this.$store.dispatch("toggleAlert",{isOpen:!0,message:t.t0.message});case 20:case"end":return t.stop()}}),t,this,[[0,16]])}))),function(){return o.apply(this,arguments)}),methods:{submitQ:(n=Object(l.a)(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&"enter"!==e.key.toLowerCase()){t.next=17;break}return this.$store.commit("isLoading",!0),window&&window.gtag&&window.gtag("event","view_search_results",{event_category:"engagement",event_label:this.q}),t.prev=3,window.scrollTo({top:0,behavior:"smooth"}),this.$store.commit("twitterQ",this.q),t.next=8,this.twitter.loadData(this.q);case 8:r=t.sent,this.$store.commit("tweets",r),this.$store.commit("isLoading",!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),this.$store.commit("isLoading",!1),this.$store.dispatch("toggleAlert",{isOpen:!0,message:t.t0.message});case 17:case"end":return t.stop()}}),t,this,[[3,13]])}))),function(t){return n.apply(this,arguments)})}},w=Object(v.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main"},[r("div",{staticClass:"container"},[r("nav",{staticClass:"navbar is-primary is-fixed-top",attrs:{role:"navigation","aria-label":"main navigation"}},[r("div",{staticClass:"navbar-brand"},[r("a",{staticClass:"navbar-item",staticStyle:{"padding-left":"20px"},on:{click:function(e){return t.submitQ()}}},[r("img",{staticClass:"nav-logo",attrs:{src:"/img/logo.png",alt:"logo"}})]),t._v(" "),r("div",{staticClass:"navbar-item",staticStyle:{position:"absolute",left:"60px",right:"20px"}},[r("div",{staticClass:"field",staticStyle:{width:"100%"}},[r("p",{staticClass:"control has-icons-left"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],staticClass:"input",attrs:{type:"text",placeholder:"Role (e.g. Customer Service)"},domProps:{value:t.q},on:{keyup:function(e){return t.submitQ(e)},input:function(e){e.target.composing||(t.q=e.target.value)}}}),t._v(" "),t._m(0)])])])])]),t._v(" "),r("nuxt-child")],1),t._v(" "),t.isLoading?r("progress",{staticClass:"progress app-loader is-small is-danger",attrs:{max:"100"}},[t._v("80%")]):t._e(),t._v(" "),r("nav",{staticClass:"navbar is-light is-fixed-bottom",attrs:{role:"navigation","aria-label":"main navigation"},on:{click:function(e){return t.submitQ()}}},[t._m(1)]),t._v(" "),r("Alert")],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-left"},[e("i",{staticClass:"icon ion-md-search"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar-item has-text-centered",staticStyle:{width:"100%"}},[e("h4",{staticClass:"has-text-centered",staticStyle:{margin:"0 auto"}},[this._v("#GigsTwitter")])])}],!1,null,null,null);e.default=w.exports}}]);